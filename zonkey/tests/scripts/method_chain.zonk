# Verify that the tree_walker can deal with 1000 method calls

class TestObject {
    Integer count;
    constructor() {}
    
    method add_one() -> TestObject {
        @count += 1;
        return self;
    }

    method get_count() -> Integer {
        return @count;
    }
}

start {
    let test_object = TestObject();

    test_object
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one()
        .add_one();

    println(test_object.get_count());
}
